# üöÄ API Invertexto - Integra√ß√£o Completa NEO.FLOWOFF

## üìã **Vis√£o Geral**

Esta documenta√ß√£o apresenta a integra√ß√£o completa da API Invertexto com o sistema NEO.FLOWOFF, incluindo todos os 10 endpoints dispon√≠veis, exemplos de uso e configura√ß√µes.

## üîß **Configura√ß√£o**

### 1. **Obter Token da API**
1. Acesse: https://invertexto.com/api
2. Crie sua conta e obtenha seu token
3. Configure no arquivo `.env`:

```bash
# .env
INVERTEXTO_API_TOKEN=seu_token_real_aqui
PORT=3000
NODE_ENV=development
```

### 2. **Instalar Depend√™ncias**
```bash
npm install dotenv axios
```

## üåê **Endpoints Dispon√≠veis**

### **1. üìä Barcode - C√≥digos de Barras**
```javascript
// Gerar c√≥digo de barras
const response = await fetch('/api/invertexto', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    endpoint: 'barcode',
    params: {
      text: '123456789012',
      format: 'png', // png, svg, html
      width: 300,
      height: 100
    }
  })
});

const result = await response.json();
console.log('C√≥digo de barras:', result.data);
```

### **2. üì± QR Code - QR Codes**
```javascript
// Gerar QR Code
const response = await fetch('/api/invertexto', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    endpoint: 'qrcode',
    params: {
      text: 'https://neo.flowoff.com',
      size: 200,
      format: 'png' // png, svg, html
    }
  })
});

const result = await response.json();
console.log('QR Code:', result.data);
```

### **3. üåç GeoIP - Localiza√ß√£o por IP**
```javascript
// Consultar localiza√ß√£o por IP
const response = await fetch('/api/invertexto', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    endpoint: 'geoip',
    params: {
      ip: '8.8.8.8' // IP para consultar
    }
  })
});

const result = await response.json();
console.log('Localiza√ß√£o:', result.data);
```

### **4. üí± Currency - Convers√£o de Moedas**
```javascript
// Converter moedas
const response = await fetch('/api/invertexto', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    endpoint: 'currency',
    params: {
      from: 'USD',
      to: 'BRL',
      amount: 100
    }
  })
});

const result = await response.json();
console.log('Convers√£o:', result.data);
```

### **5. üé≠ Faker - Dados Falsos**
```javascript
// Gerar dados falsos
const response = await fetch('/api/invertexto', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    endpoint: 'faker',
    params: {
      locale: 'pt_BR',
      type: 'name' // name, email, phone, address, etc.
    }
  })
});

const result = await response.json();
console.log('Dados falsos:', result.data);
```

### **6. ‚úÖ Validator - Valida√ß√£o**
```javascript
// Validar CPF
const response = await fetch('/api/invertexto', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    endpoint: 'validator',
    params: {
      type: 'cpf',
      value: '12345678901'
    }
  })
});

const result = await response.json();
console.log('Valida√ß√£o CPF:', result.data);

// Validar CNPJ
const response2 = await fetch('/api/invertexto', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    endpoint: 'validator',
    params: {
      type: 'cnpj',
      value: '12345678000195'
    }
  })
});
```

### **7. üìÆ CEP - Consulta de CEP**
```javascript
// Consultar CEP
const response = await fetch('/api/invertexto', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    endpoint: 'cep',
    params: {
      cep: '74000000'
    }
  })
});

const result = await response.json();
console.log('Dados do CEP:', result.data);
```

### **8. üè¢ CNPJ - Consulta de CNPJ**
```javascript
// Consultar CNPJ
const response = await fetch('/api/invertexto', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    endpoint: 'cnpj',
    params: {
      cnpj: '12345678000195'
    }
  })
});

const result = await response.json();
console.log('Dados do CNPJ:', result.data);
```

### **9. üî¢ Number-to-words - N√∫meros por Extenso**
```javascript
// Converter n√∫mero para extenso
const response = await fetch('/api/invertexto', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    endpoint: 'number-to-words',
    params: {
      number: 1234,
      locale: 'pt_BR'
    }
  })
});

const result = await response.json();
console.log('N√∫mero por extenso:', result.data);
```

### **10. üìß Email-validator - Valida√ß√£o de Email**
```javascript
// Validar email
const response = await fetch('/api/invertexto', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    endpoint: 'email-validator',
    params: {
      email: 'usuario@exemplo.com'
    }
  })
});

const result = await response.json();
console.log('Valida√ß√£o de email:', result.data);
```

## üéØ **Exemplos Pr√°ticos para NEO.FLOWOFF**

### **1. Valida√ß√£o de Lead**
```javascript
async function validarLead(dadosLead) {
  const validacoes = [];
  
  // Validar CPF
  if (dadosLead.cpf) {
    const cpfResponse = await fetch('/api/invertexto', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        endpoint: 'validator',
        params: { type: 'cpf', value: dadosLead.cpf }
      })
    });
    const cpfResult = await cpfResponse.json();
    validacoes.push({ campo: 'cpf', valido: cpfResult.success });
  }
  
  // Validar email
  if (dadosLead.email) {
    const emailResponse = await fetch('/api/invertexto', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        endpoint: 'email-validator',
        params: { email: dadosLead.email }
      })
    });
    const emailResult = await emailResponse.json();
    validacoes.push({ campo: 'email', valido: emailResult.success });
  }
  
  return validacoes;
}
```

### **2. Gerar QR Code para WhatsApp**
```javascript
async function gerarQRWhatsApp(numero, mensagem) {
  const linkWhatsApp = `https://wa.me/${numero}?text=${encodeURIComponent(mensagem)}`;
  
  const response = await fetch('/api/invertexto', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      endpoint: 'qrcode',
      params: {
        text: linkWhatsApp,
        size: 200,
        format: 'png'
      }
    })
  });
  
  const result = await response.json();
  return result.data.qr_code_url;
}
```

### **3. Consultar Dados de Empresa**
```javascript
async function consultarEmpresa(cnpj) {
  const response = await fetch('/api/invertexto', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      endpoint: 'cnpj',
      params: { cnpj }
    })
  });
  
  const result = await response.json();
  
  if (result.success) {
    return {
      nome: result.data.nome,
      endereco: result.data.endereco,
      telefone: result.data.telefone,
      email: result.data.email,
      atividade: result.data.atividade_principal
    };
  }
  
  return null;
}
```

### **4. Gerar Dados de Teste**
```javascript
async function gerarDadosTeste() {
  const tipos = ['name', 'email', 'phone', 'address'];
  const dados = {};
  
  for (const tipo of tipos) {
    const response = await fetch('/api/invertexto', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        endpoint: 'faker',
        params: {
          locale: 'pt_BR',
          type: tipo
        }
      })
    });
    
    const result = await response.json();
    dados[tipo] = result.data;
  }
  
  return dados;
}
```

## üìä **Planos e Limites**

### **Plano Gratuito**
- ‚úÖ 100 requisi√ß√µes/dia
- ‚úÖ Todos os endpoints dispon√≠veis
- ‚úÖ Suporte b√°sico

### **Plano Pro**
- ‚úÖ 1.000 requisi√ß√µes/dia
- ‚úÖ Prioridade nas requisi√ß√µes
- ‚úÖ Suporte priorit√°rio
- ‚úÖ Logs detalhados

### **Plano Enterprise**
- ‚úÖ Requisi√ß√µes ilimitadas
- ‚úÖ SLA garantido
- ‚úÖ Suporte dedicado
- ‚úÖ Integra√ß√£o personalizada

## üîí **Seguran√ßa**

### **Autentica√ß√£o**
- Token obrigat√≥rio em todas as requisi√ß√µes
- Token enviado automaticamente pelo proxy
- Valida√ß√£o de token em cada requisi√ß√£o

### **Rate Limiting**
- Limite por token/IP
- Headers de rate limit nas respostas
- Bloqueio tempor√°rio em caso de excesso

### **Valida√ß√£o de Entrada**
- Valida√ß√£o de todos os par√¢metros
- Sanitiza√ß√£o de dados
- Preven√ß√£o de injection

## üöÄ **Como Usar**

### **1. Iniciar Servidor**
```bash
# Desenvolvimento
npm run dev

# Produ√ß√£o
npm start
```

### **2. Testar Integra√ß√£o**
```bash
# Teste b√°sico
curl -X POST http://localhost:3000/api/invertexto \
  -H "Content-Type: application/json" \
  -d '{"endpoint":"cep","params":{"cep":"74000000"}}'

# Teste com valida√ß√£o
curl -X POST http://localhost:3000/api/invertexto \
  -H "Content-Type: application/json" \
  -d '{"endpoint":"validator","params":{"type":"cpf","value":"12345678901"}}'
```

### **3. Monitorar Logs**
```bash
# Logs do servidor
tail -f logs/server.log

# Logs da API
tail -f logs/api.log
```

## üìà **M√©tricas e Monitoramento**

### **Health Check**
```bash
curl http://localhost:3000/api/health
```

Resposta:
```json
{
  "status": "ok",
  "timestamp": "2024-01-15T10:30:00.000Z",
  "service": "NEO FlowOff Local Server",
  "apis": {
    "localMistral": "‚úÖ Dispon√≠vel",
    "invertexto": "‚úÖ Configurado"
  }
}
```

### **M√©tricas Dispon√≠veis**
- ‚úÖ Requisi√ß√µes por minuto
- ‚úÖ Taxa de sucesso/erro
- ‚úÖ Tempo de resposta m√©dio
- ‚úÖ Endpoints mais utilizados
- ‚úÖ Uso de tokens

## üõ†Ô∏è **Troubleshooting**

### **Erro: Token n√£o configurado**
```bash
# Verificar arquivo .env
cat .env | grep INVERTEXTO_API_TOKEN

# Configurar token
echo "INVERTEXTO_API_TOKEN=seu_token_aqui" >> .env
```

### **Erro: Timeout**
```bash
# Verificar conectividade
ping invertexto.com

# Verificar DNS
nslookup invertexto.com
```

### **Erro: Rate Limit**
```bash
# Verificar limites
curl -I http://localhost:3000/api/invertexto

# Aguardar reset (geralmente 1 hora)
```

## üìû **Suporte**

- üìß **Email**: suporte@invertexto.com
- üí¨ **Discord**: https://discord.gg/invertexto
- üìñ **Documenta√ß√£o**: https://docs.invertexto.com
- üêõ **Issues**: https://github.com/invertexto/api/issues

---

**üöÄ Esta integra√ß√£o permite que a IA NEO.FLOWOFF utilize todos os recursos da API Invertexto para valida√ß√£o, gera√ß√£o de dados e consultas, melhorando significativamente a experi√™ncia do usu√°rio e a qualidade dos dados coletados.**
